# ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–¢–µ–ø–µ—Ä—å —Ç–∞–±–ª–∏—Ü–∞ `tournament_payments` (–∏ –¥—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–æ–≤) **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞**!

**–ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã!** üéâ

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `server/database/init-tournament-payments.js` (–ù–û–í–´–ô)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `tournament_payments`
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã
- ‚úÖ –¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç `tournament_actions_log` –∏ `tournament_point_structure`

### 2. `server/index.js` (–û–ë–ù–û–í–õ–ï–ù)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `initTournamentPayments()` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

---

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞:

1. **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –Ω–∞ Render
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è**, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `tournament_payments`
3. **–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (–±–µ–∑ –æ—à–∏–±–æ–∫)
5. **–°–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É** –Ω–æ—Ä–º–∞–ª—å–Ω–æ

### –õ–æ–≥–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```
üöÄ Server running on port 3001
üé∞ Initializing all tournament tables...
üí≥ Checking tournament_payments table...
üìù Creating tournament_payments table...
‚úÖ Table tournament_payments created successfully!
üìù Creating tournament_actions_log table...
‚úÖ Table tournament_actions_log created successfully!
üìù Creating tournament_point_structure table...
‚úÖ Table tournament_point_structure created successfully!
‚úÖ All tournament tables initialized!
```

–ò–ª–∏ –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:

```
üöÄ Server running on port 3001
üé∞ Initializing all tournament tables...
üí≥ Checking tournament_payments table...
‚úÖ Table tournament_payments already exists
‚úÖ Table tournament_actions_log already exists
‚úÖ Table tournament_point_structure already exists
‚úÖ All tournament tables initialized!
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
4. **–ë–µ–∑ –æ—à–∏–±–æ–∫** - –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö

---

## üîÑ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

1. **Render –¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—ã–π –∫–æ–¥**
2. **–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü—ã `tournament_payments`
4. **–ï—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. **–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ** ‚úÖ

**–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫:**
- ‚úÖ `relation "tournament_payments" does not exist` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!
- ‚úÖ `relation "tournament_actions_log" does not exist` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!
- ‚úÖ `relation "tournament_point_structure" does not exist` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!

---

## üìã –°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:

1. ‚úÖ **`tournament_payments`** - –ø–ª–∞—Ç–µ–∂–∏ –∑–∞ —Ç—É—Ä–Ω–∏—Ä—ã (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø!)
2. ‚úÖ **`tournament_actions_log`** - –ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø!)
3. ‚úÖ **`tournament_point_structure`** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—á–∫–æ–≤

**–í—Å–µ —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞!**

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard** ‚Üí –≤–∞—à —Å–µ—Ä–≤–µ—Ä ‚Üí Logs
2. **–ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**
   ```
   üí≥ Checking tournament_payments table...
   ‚úÖ Table tournament_payments created successfully!
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–ª–∞:**
   - –ë–æ–ª—å—à–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `relation "tournament_payments" does not exist`
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `initTournamentPayments()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –≤—Ä—É—á–Ω—É—é (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- `server/database/create-tournament-payments.sql` - –¥–ª—è –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
- `server/database/create-all-tournament-tables.sql` - –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL` –Ω–∞ Render

---

## üìù –ö–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏

```javascript
export async function initTournamentPayments() {
  try {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
    const checkTable = await query(`
      SELECT EXISTS (
        SELECT FROM information_schema.tables 
        WHERE table_schema = 'public' 
        AND table_name = 'tournament_payments'
      );
    `);
    
    if (checkTable.rows[0].exists) {
      console.log('‚úÖ Table tournament_payments already exists');
      return;
    }
    
    // –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –∏ –∏–Ω–¥–µ–∫—Å—ã
    // ...
    
    console.log('‚úÖ Table tournament_payments created successfully!');
  } catch (error) {
    console.error('‚ö†Ô∏è Error creating tournament_payments table:', error.message);
  }
}
```

---

## üéØ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û!

‚úÖ –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞  
‚úÖ –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã  
‚úÖ –û—à–∏–±–∫–∞ `relation "tournament_payments" does not exist` –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è  
‚úÖ –ü—Ä–æ—Å—Ç–æ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –∫–æ–¥, –∏ –≤—Å–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!

---

**–ü—Ä–æ—Å—Ç–æ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏ —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üöÄ**

